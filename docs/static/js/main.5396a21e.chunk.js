(this["webpackJsonpsong-recomender"]=this["webpackJsonpsong-recomender"]||[]).push([[0],{52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(14),i=a.n(c),r=a(9),s=a(27),l=a(3),o=a(0),d=function(){return Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"Historial"})})},j=a(30),h=a(11),b=a.n(h),u=a(16),p=a(21),m=a.n(p),O=function(){var e=Object(u.a)(b.a.mark((function e(t){var a,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://backend-song-recomender.herokuapp.com/upload",(a=new FormData).append("song",t),e.prev=3,m.a.fire({title:"Loading song",html:"Wait a moment please",timerProgressBar:!0,didOpen:function(){m.a.showLoading()}}),e.next=7,fetch("https://backend-song-recomender.herokuapp.com/upload",{method:"POST",body:a});case 7:if(!(n=e.sent).ok){e.next=17;break}return e.next=11,n.json();case 11:return c=e.sent,sessionStorage.setItem("datos",JSON.stringify(c)),window.location.href="/results",e.abrupt("return",c);case 17:return e.next=19,n.json();case 19:throw e.sent;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[3,22]])})));return function(t){return e.apply(this,arguments)}}(),x="[File] Upload File",f="[File] Send File",v="[Data] Start Loading",y="[Data] Finish Loading",g="[Data] Save Data",N="[Historial] Save Historial",w="[Path] Loading Path",S=function(e){return function(t){var a=JSON.parse(sessionStorage.getItem("historial"))||[];t(F(e)),a.push(e),sessionStorage.setItem("historial",JSON.stringify(a))}},k=function(e){return{type:g,payload:e}},F=function(e){return{type:N,payload:e}},L=function(){var e,t=Object(r.b)(),a=Object(n.useState)(),c=Object(j.a)(a,2),i=c[0],s=c[1],l=Object(r.c)((function(e){return e.path}));return Object(o.jsxs)("div",{className:"home_container",children:[Object(o.jsx)("div",{id:"upload-area",className:"form",children:Object(o.jsxs)("div",{className:"upload-ui",children:[Object(o.jsx)("div",{className:"titulo",children:"Drag and drop audio file here"}),Object(o.jsx)("p",{className:"titulo",children:"OR"}),Object(o.jsx)("label",{htmlFor:"fileSelector",className:"btn-primario",children:"CHOOSE FILE"}),Object(o.jsx)("input",{id:"fileSelector",type:"file",name:"file",className:"btn-secundario",onChange:function(a){var n;e=a.target.files[0],s(e),t((n=e.name,{type:w,payload:n}))},style:{display:"none"}}),Object(o.jsx)("div",{className:"file-name",children:l})]})}),Object(o.jsx)("div",{className:"contenedor-enviar",children:Object(o.jsx)("button",{onClick:function(){i&&t(function(e){return function(){var t=Object(u.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v}),t.next=3,O(e);case 3:n=t.sent,console.log(n.historial),a({type:y}),a(k(n)),a(S(n.historial));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i))},className:"btn-primario",children:"Enviar"})})]})},P=a(8),E=a.n(P),T=a(17),D=a.n(T),C=a(25),_=a.n(C),I=a(26);a.n(I)()(E.a),_()(E.a);var R=function(){var e=Object(r.c)((function(e){return e.data})),t=e.titulo_original,a=e.subtitle,n=e.titulo_predicho,c=e.image,i=e.lyrics,s=(e.historial,e.letraNube),l=e.palabras,d=e.res,j=e.sentimientos,h=e.pesos_topico,b=[],u=[],p=s.trim().split(" "),m=[],O={};for(var x in p.forEach((function(e){O[e]=(O[e]||0)+1})),O)m.push({name:x,weight:O[x]});for(var f=0;f<l.length;f++)b.push({name:l[f],y:d[f]}),u.push({y:j[f].compound,z:d[f],name:l[f]});var v={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Tokens Frequency"},subtitle:{text:""},yAxis:{title:{text:"Frecuencia"}},legend:{enabled:!1},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} </b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},series:[{type:"pie",allowPointSelect:!0,keys:["name","y","selected","sliced"],data:b}]},y={chart:{type:"bubble",plotBorderWidth:1,zoomType:"xy"},legend:{enabled:!1},title:{text:"Polarity"},xAxis:{gridLineWidth:1,categories:l,plotLines:[{color:"black",dashStyle:"dot",width:2,value:65,label:{rotation:0,y:15,style:{fontStyle:"italic"}}}]},yAxis:{min:-1,max:1,startOnTick:!1,endOnTick:!1,title:{text:"Polarity"},labels:{format:"{value}"},maxPadding:.2,plotLines:[{color:"black",dashStyle:"dot",width:2,value:50,label:{align:"right",style:{fontStyle:"italic"},text:"Safe sugar intake 50g/day",x:-10},zIndex:3}]},tooltip:{useHTML:!0,headerFormat:"<table>",pointFormat:'<tr><th colspan="2"><h3>{point.name}</h3></th></tr><tr><th>Polarity:</th><td>{point.y}</td></tr><tr><th>Frecuency:</th><td>{point.z}</td></tr>',footerFormat:"</table>",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,format:"{point.name}"}}},series:[{data:u,marker:{fillColor:{radialGradient:{cx:.4,cy:.3,r:.7},stops:[[0,"rgba(255,255,255,0.5)"],[1,E.a.color(E.a.getOptions().colors[4]).setOpacity(.5).get("rgba")]]}}}]},g={series:[{type:"wordcloud",data:m,name:"Occurrences"}],title:{text:"Wordcloud of Lorem Ipsum"}};return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"contenedor-encabezado"}),Object(o.jsxs)("div",{className:"data",children:[Object(o.jsx)("div",{className:"data-titulo",children:t}),Object(o.jsx)("div",{className:"data-subtitulo",children:a}),Object(o.jsx)("div",{className:"data-tipoAPI",children:"Retrieved from "})]}),Object(o.jsxs)("div",{className:"titulo-recomendado",children:["Recommended Title: ",n]}),Object(o.jsx)("img",{className:"caratula",src:c,alt:c}),Object(o.jsx)("div",{className:"container-md contenedor-datos",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("h1",{className:"div-letra",children:"Lyrics"}),Object(o.jsx)("div",{className:"col-sm-5 col-md-6 letra",children:i.map((function(e,t){return Object(o.jsx)("div",{children:e},t)}))}),Object(o.jsxs)("div",{className:"col-sm-5 col-md-6",children:[Object(o.jsx)("div",{className:"row"}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("table",{className:"table table-striped table-hover",children:[Object(o.jsx)("thead",{className:"table-dark",children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{scope:"col",children:"Recommended Tokens "}),Object(o.jsx)("th",{scope:"col",children:"Frequency "}),Object(o.jsx)("th",{scope:"col",children:"Polarity"}),Object(o.jsx)("th",{scope:"col",children:"LDA Weight"})]})}),Object(o.jsx)("tbody",{children:l.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:l[t]}),Object(o.jsx)("td",{children:d[t]}),Object(o.jsx)("td",{children:j[t].compound}),Object(o.jsx)("td",{children:h[t]})]},t)}))})]}),Object(o.jsxs)("div",{className:"tabs",children:[Object(o.jsx)("input",{type:"radio",id:"tab1",name:"tab-control",defaultChecked:!0}),Object(o.jsx)("input",{type:"radio",id:"tab2",name:"tab-control"}),Object(o.jsx)("input",{type:"radio",id:"tab3",name:"tab-control"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{title:"Features",children:Object(o.jsx)("label",{htmlFor:"tab1",role:"button",children:Object(o.jsx)("span",{children:"Frequency"})})}),Object(o.jsx)("li",{title:"Delivery Contents",children:Object(o.jsx)("label",{htmlFor:"tab2",role:"button",children:Object(o.jsx)("span",{children:"Polarity"})})}),Object(o.jsx)("li",{title:"Delivery Contents",children:Object(o.jsx)("label",{htmlFor:"tab3",role:"button",children:Object(o.jsx)("span",{children:"Word Cloud"})})})]}),Object(o.jsx)("div",{className:"slider",children:Object(o.jsx)("div",{className:"indicator"})}),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("section",{children:Object(o.jsx)("div",{id:"Frecuencia",children:Object(o.jsx)("figure",{className:"highcharts-figure",children:Object(o.jsx)("div",{id:"tabla-hi-frecuencia",children:Object(o.jsx)(D.a,{highcharts:E.a,options:v})})})})}),Object(o.jsx)("section",{children:Object(o.jsx)("div",{id:"Polaridad",children:Object(o.jsx)("figure",{className:"highcharts-figure",children:Object(o.jsx)("div",{id:"tabla-hi",children:Object(o.jsx)(D.a,{highcharts:E.a,options:y})})})})}),Object(o.jsx)("section",{children:Object(o.jsx)("div",{id:"Nube",children:Object(o.jsx)("figure",{className:"highcharts-figure",children:Object(o.jsx)("div",{id:"tabla-nube",children:Object(o.jsx)(D.a,{highcharts:E.a,options:g})})})})})]})]})]})]})]})}),Object(o.jsx)("div",{className:"contenedor-centrar",children:Object(o.jsx)("a",{className:"btn-primario a-btn",href:"/",role:"button",children:"TRY ANOTHER SONG "})})]})},H=function(){return Object(o.jsx)(s.a,{children:Object(o.jsxs)("div",{children:[Object(o.jsx)("nav",{className:"navbar navbar-light fixed-top nav-menu",children:Object(o.jsxs)("div",{className:"container-fluid",children:[Object(o.jsx)("a",{className:"title-logo",href:"/",children:"RECOMMENDER"}),Object(o.jsx)("form",{className:"d-flex",children:Object(o.jsx)("a",{className:"btn-historial",href:"/historial",role:"button",children:"History"})})]})}),Object(o.jsxs)(l.c,{children:[Object(o.jsx)(l.a,{exact:!0,path:"/results",component:R}),Object(o.jsx)(l.a,{exact:!0,path:"/",component:L}),Object(o.jsx)(l.a,{exact:!0,path:"/history",component:d})]})]})})},W=a(13),z=a(29),A=JSON.parse(sessionStorage.getItem("datos"))||{},J="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||W.c,B=Object(W.b)({path:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.payload;default:return e}},file:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{file:t.payload.file};case f:return{data:t.payload};default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case N:return{datos:t.payload};default:return e}}}),M=Object(W.d)(B,J(Object(W.a)(z.a))),q=function(){return Object(o.jsx)(r.a,{store:M,children:Object(o.jsx)(H,{})})};a(52);i.a.render(Object(o.jsx)(q,{}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.5396a21e.chunk.js.map